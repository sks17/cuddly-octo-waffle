---
interface Props {
	title: string;
	tagline?: string;
	align?: 'start' | 'center';
	titleAttrs?: Record<string, string | number | boolean>;
	taglineAttrs?: Record<string, string | number | boolean>;
}

const { align = 'center', tagline, title, titleAttrs = {}, taglineAttrs = {} } = Astro.props;
---

<div class:list={['hero stack gap-4', align]}>
	<div class="stack gap-2">
		<h1 class="title" {...titleAttrs}>{title}</h1>
		{tagline && (
			<p class="tagline" {...taglineAttrs}>
				{tagline}
			</p>
		)}
	</div>
	<slot />
</div>

<style>
	.hero {
		font-size: var(--text-lg);
		text-align: center;
		/* Prepare for smooth transitions */
		transition: none; /* Initially no transitions until post-typewriter */
	}

	.title,
	.tagline {
		max-width: 60ch;
		margin-inline: auto;
		/* Prepare elements for smooth breathing transitions */
		transform: translateX(0);
		will-change: auto; /* Reset after transitions complete */
	}

	.title {
		font-size: var(--text-3xl);
		color: var(--gray-0);
	}

	@media (min-width: 50em) {
		.hero {
			font-size: var(--text-xl);
		}

		.start {
			text-align: start;
		}

		.start .title,
		.start .tagline {
			margin-inline: unset;
		}

		.title {
			font-size: var(--text-5xl);
		}
	}
	
	/* Respect reduced motion preference for all hero transitions */
	@media (prefers-reduced-motion: reduce) {
		.hero,
		.title,
		.tagline {
			transition: none !important;
			transform: none !important;
		}
	}

	/* ============================================================ */
	/* MOBILE OPTIMIZATIONS - Hero component                       */
	/* ============================================================ */
	
	@media (max-width: 49.9em) {
		.hero {
			font-size: var(--text-base);
			padding: 0 1rem;
		}

		.title {
			font-size: var(--text-2xl);
			max-width: 100%;
		}

		.tagline {
			max-width: 100%;
		}
	}
</style>
